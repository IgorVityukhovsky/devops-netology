# Домашнее задание к занятию "10.06. Инцидент-менеджмент"

## Задание 

Составьте постмортем, на основе реального сбоя системы Github в 2018 году.

Информация о сбое доступна [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/) , а
также [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---



# Выполнение

### Краткое описание инцидента
````
В 22:52 UTC Обрыв связи между ЦОДами.  
Это привело к несогласованности данных в базах, нарушило корректную работу сайта github.com  
Информация отображалась не корректно
````

### Инцидент
````
Выполнение регламентных работ по замене сетевого оборудования
````
### Причина инцидента
````
Кратковременная потеря связи между ЦОДами
````

### Воздействие
````
Затронута работа всего сайта, некорректная информация, замедление времени отклика страниц в течении суток после начала инцидента
````

### Обнаружение
````
Обнаружилось через 10 минут после инцидента дежурной группой
````
### Реакция
````
Решение проблемы началось спустя 5 минут после обнаружения
````
### Восстановление
````
Началось восстановление целостности данных.  
Ради сохранности данных были отключены некоторые функции сайта (например push-уведомления)
````
### Таймлайн

**22:52 UTC** Кратковременное нарушение связи между ЦОД-ами при выполнении регламентных работ  
При потери связи все данные начали перенаправляться на ЦОД западного побережья  
Нарушилась целостность данных

**22:54 UTC** Посыпались Алерты

**23:02 UTC** Инженеры обнаружили проблемы в топологии

**23:07 UTC** Заблокирована возможность внесения дополнительных изменений

**23:09 UTC** Сайту присвоен желтый статус

**23:11 UTC** Присоединился координатор инцидента

**23:13 UTC** Статус решения изменён на красный  
Присоединяются дополнительные группы инженеров  

**23:19 UTC** Принято решение не записывать метаданные о push-уведомлениях  
Между удобством и целостностью данных выбрана целостность.  

**00:05 UTC** Началась разработка плана по устранению несогласованности данных  
Восстановление из резервных копий и перенос в нужный ЦОД и кластер  

**00:41 UTC** Инженеры контролируют ход восстановления

**06:51 UTC** Восстановление частично завершилось, но работоспособность ещё не восстановлена  
до конца. Планируемое время завершения работ 2 часа

**07:46 UTC** Публикация объяснений в блоге

**11:12 UTC** Быстродействие сайта значительно улучшено, осталась проблема повторяющихся записей

**13:15 UTC** Пиковая нагрузка трафика

**16:24 UTC** Реплики синхронизиовались, выполнено аварийное переключение на исходную топологию

**16:45 UTC** Устраняется отставание данных

**23:03 UTC** Статус сайта обновлён до зелёного

### Последующие действия

- Переконфигурирована работа оркестратора, учтено возможное поведение системы с учётом произошедшего во время инцидента  
- Введены новые механизмы отчётности, что бы процесс описания проблем стал более понятен и прозрачен  
- Продолжены работы по инициативе одновременной работы трёх ЦОДов с возможностью полного отключения одного из них без влияния на пользователей  
- Более активное тестирование возможных сценариев  



